<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Upload Preview</title>
</head>
<body>

  <!-- File input -->
  <input type="file" id="file">

  <!-- Preview image -->
  <br><br>
  <img id="preview" width="200" style="display:none; border:1px solid #ccc;">

  <script>
    // Get elements
    var file = document.getElementById("file");
    var preview = document.getElementById("preview");

    // When file is selected
    file.onchange = function() {
      // Check if file is chosen
      if (file.files.length > 0) {
        var selectedFile = file.files[0]; // First file

        // Check size (< 1MB = 1000000 bytes)
        if (selectedFile.size < 500) {
          var reader = new FileReader();

          // When file is read
          reader.onload = function(e) {
            preview.src = e.target.result;  // Set preview
            preview.style.display = "block"; // Show image
          }

          reader.readAsDataURL(selectedFile); // Read as Base64
        } else {
          alert("File is too large! Please select a file smaller than 1MB.");
          preview.style.display = "none"; // Hide preview if invalid
        }
      }
    }
  </script>

</body>
</html>
